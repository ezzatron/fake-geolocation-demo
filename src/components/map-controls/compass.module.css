.compass {
  composes: mapboxgl-ctrl from global;

  --bearing: 0deg;
  --heading: 0deg;

  display: grid;
  place-items: center;
  grid-template-areas: cell;
  width: var(--size-9);
  height: var(--size-9);
  font-weight: var(--font-weight-7);
  color: white;
  cursor: pointer;
  transition: transform 0.2s;
}
.compass:not([data-available="true"]) {
  color: var(--gray-6);
}
.compass:hover {
  transform: scale(1.1);
}

.compass::after {
  content: attr(data-direction);
  grid-area: cell;
  display: block;
  font-size: var(--font-size-1);
  text-align: center;
  text-shadow: 0 0 var(--size-3) var(--gray-6);
  z-index: 1;
}
.compass:not([data-available="true"])::after {
  content: "â‹¯";
}

.compass .ring {
  grid-area: cell;
  width: 100%;
  height: 100%;
  transform: rotate(calc(var(--bearing) * -1));
}
.compass:not([data-available="true"]) .ring {
  opacity: 0.5;
}

.compass .pointer {
  grid-area: cell;
  width: 100%;
  height: 100%;
  transform: rotate(calc(var(--heading) - var(--bearing)));
}
.compass:not([data-available="true"]) .pointer {
  display: none;
}
